<br><br>
<div class="page">
  
  <!-- Loading State -->
  @if (isLoading()) {
    <div class="loading-container">
      <div class="spinner-large"></div>
      <p>Loading your gigs...</p>
    </div>
  }

  <!-- Empty State -->
  @else if (gigs().length === 0) {
    <div class="empty-state">
      <div class="empty-icon">
        <i class="material-icons">work_outline</i>
      </div>
      <h3>No Gigs Found</h3>
      <p>You haven't logged any gigs yet.<br>Start by adding your first gig!</p>
      <button class="add-first-btn" (click)="addFirstGig()">
        <i class="material-icons">add</i>
        <span>Add Your First Gig</span>
      </button>
    </div>
  }

  <!-- Gigs List -->
  @else {
    <div class="gigs-list">
      @for (gig of gigs(); track gig.id; let i = $index) {
        <div class="gig-card" [class.verified]="gig.is_verified">
          
          <!-- Header with Status -->
          <div class="card-header">
            <h3>{{ getJobTypeName(gig.job_type) }}</h3>
            <div class="status-badge" [class.approved]="gig.is_verified" [class.pending]="!gig.is_verified">
              <i class="material-icons">{{ gig.is_verified ? 'check_circle' : 'access_time' }}</i>
              <span>{{ gig.is_verified ? 'APPROVED' : 'PENDING' }}</span>
            </div>
          </div>

          <!-- Client Information -->
          <div class="info-box client-info">
            <div class="info-row">
              <i class="material-icons">person</i>
              <span class="label">Client:</span>
              <span class="value">{{ gig.client_name || 'Not specified' }}</span>
            </div>
            <div class="info-row">
              <i class="material-icons">phone</i>
              <span class="label">Phone:</span>
              <span class="value">{{ gig.client_phone || 'Not provided' }}</span>
            </div>
          </div>

          <!-- Location Information -->
          <div class="info-box location-info">
            <div class="info-row">
              <i class="material-icons">location_city</i>
              <span class="label">County:</span>
              <span class="value">{{ gig.county || 'Not specified' }}</span>
            </div>
            <div class="info-row">
              <i class="material-icons">account_balance</i>
              <span class="label">Constituency:</span>
              <span class="value">{{ gig.constituency || 'Not specified' }}</span>
            </div>
            <div class="info-row">
              <i class="material-icons">place</i>
              <span class="label">Ward:</span>
              <span class="value">{{ gig.ward || 'Not specified' }}</span>
            </div>
          </div>

          <!-- Job Details -->
          <div class="info-box job-details" [class.verified-bg]="gig.is_verified">
            <div class="info-row">
              <i class="material-icons">calendar_today</i>
              <span class="label">Start Date:</span>
              <span class="value">{{ gig.start_date || 'Not set' }}</span>
            </div>
            <div class="info-row">
              <i class="material-icons">schedule</i>
              <span class="label">Duration:</span>
              <span class="value">{{ gig.duration_value || '?' }} {{ gig.duration_unit || '' }}</span>
            </div>
          </div>

        </div>
      }
    </div>
  }

</div>